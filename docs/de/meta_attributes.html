
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Metaattribute &mdash; Projectgenerator Documentation 1.0 Dokumentation</title>
    
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/logo.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/projectgenerator-logo-noborder.ico"/>
    <link rel="top" title="Projectgenerator Documentation 1.0 Dokumentation" href="index.html" />
    <link rel="prev" title="Entwicklung" href="development.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/projectgenerator-logo.svg"></span>
          Projectgenerator Documentation</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Erste Schritte</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">Anwenderleitfaden für den QGIS Projektgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Entwicklung</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Metaattribute</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Metaattribute</a><ul>
<li><a class="reference internal" href="#general">Allgemein</a><ul>
<li><a class="reference internal" href="#meta-attributes-in-interlis-files">Metaattributes in Interlis Files</a></li>
<li><a class="reference internal" href="#meta-attributes-in-the-database">Metaattribute in der Datenbank</a></li>
</ul>
</li>
<li><a class="reference internal" href="#project-generator-specific-meta-attributes">Project Generator Specific Meta Attributes</a><ul>
<li><a class="reference internal" href="#list-of-specific-attributes">Liste spezifischer Attribute</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extra-model-information-file">Extra Model Information File</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="development.html" title="Previous Chapter: Entwicklung"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Entwicklung</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container"><span class="shadow-background"><img src="_static/projectgenerator-logo.svg"></span>
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Erste Schritte</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">Anwenderleitfaden für den QGIS Projektgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Entwicklung</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Metaattribute</a></li>
</ul>
</ul>
</li>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="meta-attributes">
<h1><a class="toc-backref" href="#id3">Metaattribute</a><a class="headerlink" href="#meta-attributes" title="Link zu dieser Überschrift">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#meta-attributes" id="id3">Metaattribute</a><ul>
<li><a class="reference internal" href="#general" id="id4">Allgemein</a><ul>
<li><a class="reference internal" href="#meta-attributes-in-interlis-files" id="id5">Metaattributes in Interlis Files</a></li>
<li><a class="reference internal" href="#meta-attributes-in-the-database" id="id6">Metaattribute in der Datenbank</a></li>
</ul>
</li>
<li><a class="reference internal" href="#project-generator-specific-meta-attributes" id="id7">Project Generator Specific Meta Attributes</a><ul>
<li><a class="reference internal" href="#list-of-specific-attributes" id="id8">Liste spezifischer Attribute</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extra-model-information-file" id="id9">Extra Model Information File</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="general">
<h2><a class="toc-backref" href="#id4">Allgemein</a><a class="headerlink" href="#general" title="Link zu dieser Überschrift">¶</a></h2>
<blockquote>
<div><p>«Einem Metaelement können kompositorisch Metaattribute zugeordnet sein (Klasse &#8220;MetaAttribut&#8221;). Metaattribute sind weder durch die Sprache INTERLIS noch durch das Metamodell genauer definiert. Sie dienen insbesondere dazu, dass Informationen, die über INTERLIS hinausgehen, als Bestandteil der Modelldaten beigefügt werden können. Metaattribute haben einen Namen (Attribut &#8220;Name&#8221;), der innerhalb der Metaattribute desselben Metaelementes eindeutig sein muss, und den beschreibenden Wert (Attribut &#8220;Value&#8221;).»</p>
</div></blockquote>
<p>Quelle: <a class="reference external" href="https://www.ech.ch/alfresco/s/ech/download?nodeid=788eb38a-bf2b-4f3d-96a8-addc37bba41f">STAN_d_DEF_2011-06-22_eCH-0117 Meta-Attribute für INTERLIS-Modelle.pdf</a>  von eCH www.interlis.ch</p>
<div class="section" id="meta-attributes-in-interlis-files">
<h3><a class="toc-backref" href="#id5">Metaattributes in Interlis Files</a><a class="headerlink" href="#meta-attributes-in-interlis-files" title="Link zu dieser Überschrift">¶</a></h3>
<p><strong>Comment vs. Meta Attribute</strong></p>
<p>An Interlis comment starts with <code class="docutils literal"><span class="pre">!!</span></code> and ends with a line end. A meta attribute starts with <code class="docutils literal"><span class="pre">!!</span></code> as well but followed by an <code class="docutils literal"><span class="pre">&#64;</span></code>:</p>
<p><strong>Syntax</strong></p>
<p>After the start of <code class="docutils literal"><span class="pre">!!&#64;</span></code> the meta attribute name follows, then equal <code class="docutils literal"><span class="pre">=</span></code>, then the attribute value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>!!@&lt;name&gt;=&lt;value&gt;
</pre></div>
</div>
<p>Gefolgt vom referenzierten Element (MODEL, TOPIC, CLASS etc.)</p>
<p><strong>Beispiel</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span>!!@ furtherInformation=https://www.astra.admin.ch/
MODEL ExceptionalLoadsCatalogues_V1 (en)
AT &quot;http://models.geo.admin.ch/ASTRA/&quot;
VERSION &quot;2017-02-08&quot;  =
  IMPORTS CatalogueObjects_V1,Units;
  !!@ topicInformation=&quot;Route-Type&quot;
  TOPIC TypeOfRouteCatalogue
  EXTENDS CatalogueObjects_V1.Catalogues =
    !!@ dispExpression=&quot;CONCAT(type, &#39; sometext&#39;)&quot;
    CLASS TypeOfRoute
    EXTENDS CatalogueObjects_V1.Catalogues.Item =
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">furtherInformation</span></code> referenziert auf <code class="docutils literal"><span class="pre">ExceptionalLoadsCatalogues_V1</span></code>, <code class="docutils literal"><span class="pre">topicInformation</span></code> auf <code class="docutils literal"><span class="pre">TypeOfRouteCatalogue</span></code> und <code class="docutils literal"><span class="pre">dispExpression</span></code> auf <code class="docutils literal"><span class="pre">TypeOfRoute</span></code>.</p>
<p>Für komplexere Anwendungsfälle siehe die <a class="reference external" href="https://www.ech.ch/alfresco/s/ech/download?nodeid=788eb38a-bf2b-4f3d-96a8-addc37bba41f">Spezifikation vom Verein eCH</a></p>
</div>
<div class="section" id="meta-attributes-in-the-database">
<h3><a class="toc-backref" href="#id6">Metaattribute in der Datenbank</a><a class="headerlink" href="#meta-attributes-in-the-database" title="Link zu dieser Überschrift">¶</a></h3>
<p>Das im Projektgenerator integrierte ili2db speichert die Metaatribute beim Datenimport vom Interlisfile in die Tabelle <strong>t_ili2db_meta_attrs</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="17%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ilielement</th>
<th class="head">attr_name</th>
<th class="head">attr_value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ExceptionalLoadsCatalogues_V1</td>
<td>furtherInformation</td>
<td><a class="reference external" href="https://www.astra.admin.ch/">https://www.astra.admin.ch/</a></td>
</tr>
<tr class="row-odd"><td>ExceptionalLoadsCatalogues_V1.TypeOfRouteCatalogue</td>
<td>topicInformation</td>
<td>Route-Type</td>
</tr>
<tr class="row-even"><td>ExceptionalLoadsCatalogues_V1.TypeOfRouteCatalogue.TypeOfRoute</td>
<td>dispExpression</td>
<td>CONCAT(type, &#8216; sometext&#8217;)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="project-generator-specific-meta-attributes">
<h2><a class="toc-backref" href="#id7">Project Generator Specific Meta Attributes</a><a class="headerlink" href="#project-generator-specific-meta-attributes" title="Link zu dieser Überschrift">¶</a></h2>
<p>Einige nicht-standard Metaattibute werden vom Projektgenerator als Eigenschaften im QGIS-Projekt interpretiert.</p>
<div class="section" id="list-of-specific-attributes">
<h3><a class="toc-backref" href="#id8">Liste spezifischer Attribute</a><a class="headerlink" href="#list-of-specific-attributes" title="Link zu dieser Überschrift">¶</a></h3>
<p><strong>dispExpression</strong>
Used as the display expression for a layer. The display expression is the <em>name</em> that is used to identify a feature by text. One of the places where this is used is the combobox that is shown for a Relation Reference Widget on feature forms.</p>
<p><a href="#id1"><span class="problematic" id="id2">|relation_reference|</span></a></p>
</div>
</div>
<div class="section" id="extra-model-information-file">
<h2><a class="toc-backref" href="#id9">Extra Model Information File</a><a class="headerlink" href="#extra-model-information-file" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Metaattribute können anstatt direkt im Interlis File, in diesen externen Files gespeichert sein.</p>
<p>Diese Files sind in TOML geschrieben haben die Dateierweiterung <code class="docutils literal"><span class="pre">.toml</span></code></p>
<p>You can select the extra meta attribute files in the <strong>Advanced Options</strong>. This configuration is stored for the model. This means when you reselect the same model later again, the file is still referenced. This information will be displayed on the main dialog of the Project Generator.</p>
<p>In the background ili2pg writes the meta attributes from the external meta attribute file to the PostGIS or GeoPackage storage, where the Project Generator can use them to build the QGIS project.</p>
<p><strong>Beispiel</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;ExceptionalLoadsRoute.TypeOfRouteCatalogue.TypeOfRoute&quot;</span><span class="p">]</span>
<span class="n">dispExpression</span><span class="o">=</span><span class="s2">&quot;type&quot;</span>
</pre></div>
</div>
<p><strong>Mor complex example</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;ExceptionalLoadsCatalogues_V1.TypeOfRouteCatalogue.TypeOfRoute&quot;</span><span class="p">]</span>
<span class="n">dispExpression</span><span class="o">=</span><span class="s2">&quot;CONCAT(type, &#39; sometext&#39;)&quot;</span>
</pre></div>
</div>
<p>The keys that need to be used for the TOML sections are the <em>fully qualified Interlis names</em> of the objects. In the example above this is <code class="docutils literal"><span class="pre">[&quot;ExceptionalLoadsCatalogues_V1.TypeOfRouteCatalogue.TypeOfRoute&quot;]</span></code>. A list of all available names can be found in the database table <code class="docutils literal"><span class="pre">t_ili2db_classname</span></code> after doing a schema import.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        




<div id="sourcelink">


  <a href="https://github.com/opengisch/projectgenerator-docs/blob/master/en/meta_attributes.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2017, The Projectgenerator Project/OPENGIS.ch.<br/>
      Mit <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1 erstellt.<br/>
    </p>
  </div>
</footer>
  </body>
</html>